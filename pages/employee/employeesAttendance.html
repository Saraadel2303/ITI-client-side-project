<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Employees</title>
    <link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css"
      integrity="sha512-DxV+EoADOkOygM4IR9yXP8Sb2qwgidEmeqAEmDKIOfPRQZOWbXCzLC6vjbZyy0vPisbH2SyW27+ddLVCN+OMzQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="/css/employeesAttendance.css" />

    <link
      href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.9/index.global.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.9/index.global.min.js"></script>
  </head>

  <body>
    <div class="container-fluid p-0 d-flex flex-column flex-md-row h-100">
      <div
        id="bdSidebar"
        class="offcanvas-md offcanvas-start d-flex flex-column flex-shrink-0 p-3 bg-light"
      >
        <a href="#" class="navbar-brand d-flex align-items-center mb-3">
          <img
            src="/imgs/logo.png"
            style="width: 3rem; height: 3rem"
            class="me-2"
            alt="Logo"
          />
          <span class="fs-5 side-title d-none d-md-inline">HR System</span>
        </a>
        <hr />
        <ul class="mynav nav nav-pills flex-column mb-auto">
          <li class="nav-item mb-1 active">
            <a href="#" class="nav-link" data-route="Attendance Board">
              <i class="fa-solid fa-house me-2"></i>
              Attendance Board
            </a>
          </li>
          <li class="nav-item mb-1 active">
            <a href="my_tasks.html" class="nav-link" data-route="Tasks Board">
              <i class="fa-solid fa-house me-2"></i>
              Tasks Board
            </a>
          </li>
        </ul>
        <div class="mt-auto logout">
          <a href="../login.html" class="btn w-100">
            <i class="fa-solid fa-right-from-bracket me-2"></i>
            Logout
          </a>
        </div>
      </div>

      <div class="bg-light flex-fill">
        <div class="navsmall p-2 d-md-none d-flex bg-primary text-white">
          <a
            href="#"
            class="text-white"
            data-bs-toggle="offcanvas"
            data-bs-target="#bdSidebar"
          >
            <i class="fa-solid fa-bars fs-4"></i>
          </a>
          <span class="ms-2">Menu</span>
        </div>

        <nav
          class="navbar d-flex justify-content-between align-items-center border-bottom px-3"
        >
          <span class="welcome-text"
            >ðŸ‘‹ Welcome, <b id="username">Maria Smith</b></span
          >
          <div class="dropdown">
            <a
              href="#"
              class="d-flex align-items-center text-dark text-decoration-none"
              data-bs-toggle="dropdown"
            >
              <i class="bi bi-person-circle fs-4 me-2"></i>
            </a>
            <ul class="dropdown-menu dropdown-menu-end">
              <li>
                <a class="dropdown-item" href="#"
                  ><i class="bi bi-brightness-high me-2"></i>Light Mode</a
                >
              </li>
              <li>
                <a class="dropdown-item" href="#"
                  ><i class="bi bi-moon-stars me-2"></i>Dark Mode</a
                >
              </li>
              <li>
                <hr class="dropdown-divider" />
              </li>
              <li>
                <a class="dropdown-item" href="#"
                  ><i class="bi bi-translate me-2"></i>Arabic</a
                >
              </li>
              <li>
                <a class="dropdown-item" href="#"
                  ><i class="bi bi-translate me-2"></i>English</a
                >
              </li>
            </ul>
          </div>
        </nav>

        <div class="container my-4">
          <div class="text-center mb-4">
            <h2 class="fw-bold text-primary">My Attendance Dashboard</h2>
            <p class="text-muted">
              Track your daily attendance & working hours
            </p>
          </div>

          <div
            class="row g-3 mb-4 d-flex justify-content-center"
            id="summaryCards"
          >
            <div class="col-6 col-md-4 col-lg-2">
              <div class="stat-card">
                <h6>Present</h6>
                <p id="presentCount" style="color: #0f8a46">0</p>
              </div>
            </div>
            <div class="col-6 col-md-4 col-lg-2">
              <div class="stat-card">
                <h6>Late</h6>
                <p id="lateCount" style="color: #b25a00">0</p>
              </div>
            </div>
            <div class="col-6 col-md-4 col-lg-2">
              <div class="stat-card">
                <h6>Absent</h6>
                <p id="absentCount" style="color: #c12a2a">0</p>
              </div>
            </div>
            <div class="col-6 col-md-4 col-lg-2">
              <div class="stat-card">
                <h6>Leave</h6>
                <p id="leaveCount" style="color: #5a32c2">0</p>
              </div>
            </div>
            <div class="col-6 col-md-4 col-lg-2">
              <div class="stat-card">
                <h6>WFH</h6>
                <p id="wfhCount" style="color: #2563eb">0</p>
              </div>
            </div>
          </div>

          <!-- Calendar -->
          <div class="row mb-4">
            <div class="col-12">
              <div class="card shadow-sm">
                <div class="card-body">
                  <h5 class="mb-3 text-primary">
                    <i class="fa-regular fa-calendar-days me-2"></i>Attendance
                    Calendar
                  </h5>

                  <div id="calendar"></div>
                </div>
              </div>
            </div>
          </div>

          <!-- Attendance Table -->
          <div class="row">
            <div class="col-12">
              <div class="card shadow-sm">
                <div class="card-body">
                  <h5 class="mb-3 text-primary">
                    <i class="bi bi-clock-history me-2"></i>Attendance Records
                  </h5>
                  <div class="table-responsive">
                    <table
                      class="table table-bordered align-middle text-center table-striped"
                    >
                      <thead>
                        <tr>
                          <th>Date</th>
                          <th>Name</th>
                          <th>Check-in</th>
                          <th>Check-out</th>
                          <th>Status</th>
                          <th>Minutes late</th>
                          <th>Total Hours</th>
                        </tr>
                      </thead>
                      <tbody id="attendanceTable">
                        <tr>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td><span class="badge"></span></td>
                          <td></td>
                          <td></td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="/js/employeesAttendance.js"></script>
  </body>
</html>
